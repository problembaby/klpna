<!doctype html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="../vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>로그인 - 간호조무사협회</title>

    <!-- css -->
    <link rel="stylesheet" href="/resources/krds/css/plugin/swiper-bundle.min.css">
    <link rel="stylesheet" href="/resources/krds/scss/component/output.css" />
    <link rel="stylesheet" href="/resources/krds/css/pattern/p_layout.css" />
    <link rel="stylesheet" href="/resources/css/style.css" />

    <!--js-->
    <script src="/resources/js/jquery-3.7.1.min.js"></script>
    <script src="/resources/krds/js/plugin/swiper-bundle.min.js" defer></script>
    <script src="/resources/krds/js/component/ui-script.js" defer></script>
    <script src="/resources/krds/js/pattern/pattern.js" defer></script>
    <script src="/resources/js/script.js" defer></script>
</head>

<body>
    <!-- 퍼블리싱단 header는 여기로 바로 삽입됨 -->

    <script>
        $(document).ready(function () {
            // 3. 로그인 유효성 검사
            $("#idFindsubmit").on("click", function (e) {
                e.preventDefault();

                const $tabSection = $(this).closest(".tab-conts");
                const $idInput = $tabSection.find("#login-id");
                const $pwInput = $tabSection.find("#login-pw");

                let valid = true;
                let firstInvalidInput = null;

                [$idInput, $pwInput].forEach($input => {
                    const $formGroup = $input.closest(".form-group");
                    const $errorMsg = $formGroup.find(".form-hint-invalid");

                    if ($.trim($input.val()) === "") {
                        $formGroup.addClass("is-error");
                        $errorMsg.show();
                        $errorMsg.text($input.attr("id") === "login-id" ? "아이디를 입력해주세요." : "비밀번호를 입력해주세요.");
                        valid = false;
                        if (!firstInvalidInput) {
                            firstInvalidInput = $input; // 첫 번째 유효성 검사 실패 입력 필드 저장
                        }
                    } else {
                        $formGroup.removeClass("is-error");
                        $errorMsg.hide();
                    }
                });

                // 가장 먼저 오류난 input 포커스 이동
                if (!valid && firstInvalidInput) {
                    firstInvalidInput.focus();

                }

                if (valid) {
                    // 로그인 submit 처리
                    alert("로그인 처리 진행 (예시)");
                    // 실제 처리: form 제출 또는 AJAX 호출로 교체 가능
                }
            });
        });
    </script>

    <!-- 로그인 영역 -->
    <div class="login-wrap">
        <div class="login-img">
        </div>
        <div class="login-contents">
            <div class="login-inner">
                <div class="login-form-wrap">
                    <div class="login-title">
                        <h1>아이디 찾기</h1>
                    </div>

                    <!-- 아이디 찾기 -->
                    <div class="login-idFind-area">
                        <div class="step">
                            <ol class="progress-bar">
                                <li class="progress-step active">1. 가입정보 확인</li>
                                <li class="progress-step">2. 아이디 확인</li>
                            </ol>
                        </div>
                        <div class="helper-box gray">
                            <div class="helper-wrap">
                                <ul class="krds-info-list decimal" role="list">
                                    <li role="listitem">
                                        아이디 찾기는 온라인 회원 이름과 회원가입 시 입력한 휴대전화번호로 찾으실 수 있습니다.
                                    </li>
                                    <li role="listitem">입력하신 정보는 아이디 확인에만 사용되며, 저장되지 않습니다.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="ico-find"></div>
                        <form action="#">
                            <div class="fieldset">
                                <!-- 이름 -->
                                <div class="form-group">
                                    <div class="form-tit">
                                        <label for="name">이름<i class="req">*</i></label>
                                    </div>
                                    <div class="form-conts btn-ico-wrap" data-delete="true">
                                        <input type="text" id="name" class="krds-input" placeholder="이름입력">
                                        <button type="button" class="krds-btn medium icon pure btn-delete-input">
                                            <span class="sr-only">내용 삭제</span>
                                            <i class="svg-icon ico-delete-fill"></i>
                                        </button>
                                    </div>
                                    <p class="form-hint-invalid" style="display: none;">이름을 입력해주세요.</p>
                                </div>
                                <!-- //이름 -->
    
                                <!-- 연락처 -->
                                <div class="form-group">
                                    <div class="form-tit">
                                        <label for="phone">휴대전화번호<i class="req">*</i></label>
                                    </div>
                                    <div class="form-conts">
                                        <ul class="input-group range">
                                            <li>
                                                <select name="" id="phone" class="krds-form-select medium">
                                                    <option value="">선택</option>
                                                    <option value="010">010</option>
                                                    <option value="011">011</option>
                                                </select>
                                            </li>
                                            <li class="mark">-</li>
                                            <li>
                                                <input type="text" id="phone-mid" class="krds-input medium" placeholder=""
                                                    maxlength="4">
                                            </li>
                                            <li class="mark">-</li>
                                            <li>
                                                <input type="text" id="phone-last" class="krds-input medium" placeholder=""
                                                    maxlength="4">
                                            </li>
                                        </ul>
                                    </div>
                                    <p class="form-hint-invalid" style="display: none;">휴대전화번호를 입력하세요.</p>
                                </div>
                                <!-- //연락처 -->
    
                                <!-- 생년월일(6자) -->
                                <div class="form-group">
                                    <div class="form-tit">
                                        <label for="birth-date">생년월일(6자)<i class="req">*</i></label>
                                    </div>
                                    <div class="form-conts btn-ico-wrap" data-delete="true">
                                        <input type="text" id="birth-date" maxlength="6" class="krds-input" placeholder="YYMMDD" >
                                        <button type="button" class="krds-btn medium icon pure btn-delete-input">
                                            <span class="sr-only">내용 삭제</span>
                                            <i class="svg-icon ico-delete-fill"></i>
                                        </button>
                                    </div>
                                    <p class="form-hint-invalid" style="display: none;">생년월일을 입력하세요.</p>
                                </div>
                                <!-- //생년월일(6자) -->
    
                                <div class="bar"></div>
    
                                <div class="form-group">
                                    <button type="submit" id="idFindsubmit" class="krds-btn login-btn black">아이디 찾기</button>
                                </div>
                                
                            </div>
                        </form>
                    </div>
                    <!-- //아이디 찾기 -->
                </div>

            </div>
        </div>
    </div>
    <!-- //로그인 영역 -->

    <!-- 퍼블리싱단 footer는 여기로 바로 삽입됨 -->




</body>

</html>


<script>

    // 퍼블리싱 단에만 사용하는 공통 스크립트
    // 개발에서는 절대 사용하지 말것!

    document.addEventListener("DOMContentLoaded", function () {
        loadHTML("/pages/common/header_pubSample.html", "beforebegin");
        loadHTML("/pages/common/footer_pubSample.html", "afterend");
    });

    function loadHTML(url, position) {
        fetch(url)
            .then((response) => {
                if (response.ok) {
                    return response.text();
                } else {
                    console.error(`Failed to load ${url}: ${response.status}`);
                    return "";
                }
            })
            .then((html) => {
                if (position === "beforebegin") {
                    document.body.insertAdjacentHTML("afterbegin", html);
                    initializeCommonScripts();
                } else if (position === "afterend") {
                    document.body.insertAdjacentHTML("beforeend", html);
                }
            })
            .catch((error) => console.error("Error loading HTML:", error));
    }

    function initializeCommonScripts() {
        // 메뉴 스크립트 초기화
        if (typeof krds_mainMenuPC !== "undefined") krds_mainMenuPC.init();
        if (typeof krds_mainMenuMobile !== "undefined") krds_mainMenuMobile.init();
        if (typeof krds_modal !== "undefined") krds_modal.init();
        if (typeof scrollManager !== "undefined") {
            window.addEventListener("scroll", () => {
                scrollManager.updateScrollValues();
                scrollManager.handleScrollDirection();
            });
        }
    }
</script>